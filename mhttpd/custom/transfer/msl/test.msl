PARAM start_voltage, "Starting voltage"
PARAM step_size, "Voltage increment"
PARAM num_steps, "Number of steps"

# do everything in this ODB sub directory
ODBSUBDIR /Equipment/Ladder/Variables

SET v, $start_voltage
ODBSET V, $v

SET current, 0

LOOP i, $num_steps
   # Set voltage array in ODB
   ODBSET Voltage[$i], $v

   # wait for measurement
   WAIT SECONDS, 10

   # dummy measurement: just copy current to voltage
   # for a real measurement, get the current from the correct location in the ODB
   ODBGET V, current
   ODBSET Current[$i], $current

   # increment voltage
   ODBINC V, $step_size
ENDLOOP
ENDODBSUBDIR





