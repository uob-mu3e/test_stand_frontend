<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="midas.css">
    <!--link rel="stylesheet" href="mu3estyle.css"-->
    <link rel="stylesheet" type="text/css" href="pixel_tracker.css">
    <script src="controls.js"></script>
    <script src="midas.js"></script>
    <script src="mhttpd.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <title>Tracker Configuration</title>
</head>
<body class="mcss" onload="mhttpd_init('myPage');">

    <!-- header and side navigation will be filled in mhttpd_start -->
    <div id="mheader"></div>
    <div id="msidenav"></div>

    <div id="mmain">

        <div class="container-fluid normal_text" id="main">
            <div class="row" style="width: 2450px">
                <div class="col-xs-3 b-r padding_bottom_70">
                    <!---div class="scrll_hide"-->
                    <div class="row" style="width: 500px; margin-left: 10px">
                        <div class="col-xs-4 b-r padding_bottom_70" style="padding-left: 0px; padding-right: 0px">
                            <div id="ladder_legend">
                                <h3>Legend</h3>
                            </div>
                        </div>
                        <div class="col-xs-8 b-r padding_bottom_70" style="border-right: 0px;">
                            <div class="scrll_hide">
                                <div id="L0_US" style="position: relative;height: 350px">
                                    <h1 style="color: #5e9ca0;">Layer 0 Upstream</h1>
                                    <p>As seen from outside the cage</p>

                                </div>
                                <div id="L0_DS" style="position: relative;height: 350px">
                                    <h1 style="color: #5e9ca0;">Layer 0 Downstream</h1>
                                    <p>As seen from outside the cage</p>

                                </div>
                                <div id="L1_US" style="position: relative;height: 400px">
                                    <h1 style="color: #5e9ca0;">Layer 1 Upstream</h1>
                                    <p>As seen from outside the cage</p>

                                </div>
                                <div id="L1_DS" style="position: relative;height: 400px">
                                    <h1 style="color: #5e9ca0;">Layer 1 Downstream</h1>
                                    <p>As seen from outside the cage</p>

                                </div>
                            </div>
                        </div>
                    </div>
                    <!--/div-->
                </div>
                <div class="col-xs-6 b-r padding_bottom_70">
                    <div class="scrll_hide">
                        <div id="config_area">
                            <div id="ladder_header" style="visibility: hidden;">
                                <h1>Ladder Control</h1>
                                <h3>Parameters</h3>
                            </div>
                            <table id="parameter_tab">
                            </table>
                            <div id="ladder_lv_header" style="visibility: hidden;">
                                <h2>LV</h2>
                                <h3>Settings</h3>
                            </div>
                            <table id="ladder_lv_tab">
                            </table>
                            <div id="ladder_lv_settings" style="visibility: hidden;">
                                <h3>Status</h3>
                                <table>
                                    <tr>
                                        <td>Current Status : </td>
                                        <td><div id="ladder_lv_status" class="modbbox" style="width: 20px; height: 20px; display: table-cell;" data-odb-path="/Equipment/HAMEG0/Variables/State[0]" data-color="lightgreen" data-background-color="red"></div></td>
                                    </tr>
                                    <tr>
                                        <td>Turn On/Off : </td>
                                        <td><input id="ladder_lv_set_status" type="checkbox" style="display: table-cell;" name="CheckboxLV" class="modbcheckbox" data-odb-path="/Equipment/HAMEG0/Variables/Set State[0]"></input></td>
                                    </tr>
                                </table>
                                <h3>Readings</h3>
                                <div>
                                    <h4 style="display: table-cell;">Voltage : </h4>
                                    <div id="ladder_lv_read_volt" class="modbvalue" data-odb-path="/Equipment/HAMEG0/Variables/Voltage[0]" style="display: table-cell;"></div>
                                </div>
                                <div>
                                    <h4 style="display: table-cell;">Current : </h4>
                                    <div id="ladder_lv_read_curr" class="modbvalue" data-odb-path="/Equipment/HAMEG0/Variables/Current[0]" style="display: table-cell;"></div>
                                </div>
                            </div>
                        </div>
                        <div id="ladder_hv_header" style="visibility: hidden;">
                            <h2>HV</h2>
                            <h3>Settings</h3>
                        </div>
                        <table id="ladder_hv_tab">
                        </table>
                        <div id="ladder_hv_settings" style="visibility: hidden;">

                        </div>
                        <div id="ladder_temperature" style="visibility: hidden;">
                            <h2>Temperature</h2>
                            <h3>Readings</h3>
                            <div>
                                <h4 style="display: table-cell;">Voltage : </h4>
                                <div id="ladder_temp_read_volt" class="modbvalue" data-odb-path="/Equipment/Pixel-SC-Temperature/Variables/Input[0]" style="display: table-cell;"></div>
                            </div>
                            <div>
                                <h4 style="display: table-cell;">Celsius : </h4>
                                <div id="ladder_temp_read_c" class="modbvalue" data-odb-path="/Equipment/Pixel-SC-Temperature/Variables/Input[0]" style="display: table-cell;"></div>
                            </div>
                        </div>
                        <div id="chip_header" style="visibility: hidden;">
                            <h1>Chip control</h1>
                            <h2>Select a chip</h2>
                        </div>
                        <div id="pixel_select" style="visibility: hidden;">

                        </div>
                        <div id="chip_table_header" style="visibility: hidden;">
                            <h2>Parameters</h2>
                        </div>
                        <table id="pixel_parameters">
                        </table>
                        <div class="row">
                            <div class="col-xs-6 b-r padding_bottom_70">
                                <div id="configure_chip_div" style="visibility: hidden;" class="button_configure">
                                    <button onclick="configureChip(event)" style="display: table-cell;">Configure</button>
                                    <button onclick="resetDACs(event)" style="display: table-cell;">Reset to Default</button>
                                </div>
                                <div id="chip_dacs_header" style="visibility: hidden;">
                                    <h2>DACs</h2>
                                </div>
                                <div class="tab" id="chip_dacs" style="visibility: hidden;">
                                    <button class="tablinks" onclick="openChipDacs(event, 'Bias')">Bias</button>
                                    <button class="tablinks" onclick="openChipDacs(event, 'Conf')">Conf</button>
                                    <button class="tablinks" onclick="openChipDacs(event, 'VDAC')">VDAC</button>
                                    <button class="tablinks tablinks_service" onclick="openChipDacs(event, 'Hide')">Hide</button>
                                </div>
                                <div id="Bias" class="tabcontent">
                                    <h3>Bias</h3>
                                    <p id="Bias_head">Boom</p>
                                    <table id="Bias_tab">
                                    </table>
                                </div>
                                <div id="Conf" class="tabcontent">
                                    <h3>Conf</h3>
                                    <p id="Conf_head">Shaka</p>
                                    <table id="Conf_tab">
                                    </table>
                                </div>
                                <div id="VDAC" class="tabcontent">
                                    <h3>VDACs</h3>
                                    <p id="VDAC_head">Laka</p>
                                    <table id="VDAC_tab">
                                    </table>
                                </div>
                            </div>
                                <div id="qctestdiv" class="col-xs-6 b-r padding_bottom_70" style="visibility: hidden;" >
                                <h1>QC tests</h1>
                                <p id="qctest">
                                    HV QC test should appear here 
    
                                    <img src="http://mu3ebe:8081//home/mu3e/online/online/pixels/qctest/ladder/output/IV_0.png" id="QC" width="100%"/>
                                    <!--a href='#' onclick='change_qc_image()'><img src="http://mu3ebe:8081//home/mu3e/online/online/pixels/qctest/ladder/output/IV_0.png" id="QC"/></a-->
                                </p>
                                <button onclick='update_qc_dacs_link()'>Update VPVCO and VNVCO</button>
                            </div>
                        </div>
                        <div id="pixel_configure_update" style="visibility: hidden;">
                            <h3>Status</h3>
                            <div id="pixel_configure_update_content">
                            </div>
                        </div>
                        <div>
                            <h1>Debug</h1>
                            <p id="debug">
                                Right side Data
                            </p>
                        </div>
                    </div>

                </div>
                <div class="col-xs-3 b-r padding_bottom_70">
                    <div class="scrll_hide">
                        <h1>Multiple Chip Configuration</h1>
                        <div style="width:265px; display: table-cell">
                            <h2>Upstream</h2>
                        </div>
                        <div style="width:250px; display: table-cell">
                            <h2>Downstream<h2>
                        </div>
                        <div id="multiple_chip_configuration">
                            <div class="row" style="width: 500px; margin-left: 10px">
                                <div class="col-xs-6 b-r padding_bottom_70">
                                    <div class="scrll_hide">
                                        <div id="multiple_chip_configuration_us">

                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6 b-r padding_bottom_70">
                                    <div class="scrll_hide">
                                        <div id="multiple_chip_configuration_ds">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="configure_multiple_chip_div" style="visibility: visible; display: flex; justify-content: center;" class="button_configure">
                            <button onclick="configureMultipleChip(event)">Configure</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--script src="mupix_dacs.json"></script-->
    <script src="pixel_utils.js"></script>
    <script src="pixel_tracker.js"></script>
</body>
</html>
