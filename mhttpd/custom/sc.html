<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="controls.js"></script>
    <script src="midas.js"></script>
    <script src="mhttpd.js"></script>
    <script>
        function get_read_mem_table() {
            var table = document.getElementById("read_mem_table");
            table.innerHTML = "";
            var row = table.insertRow(0);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            cell1.innerHTML = "NEW CELL1";
            cell2.innerHTML = "NEW CELL2";
            var table = document.getElementById("mytable");
        }

        function get_write_mem_table() {
            var table = document.getElementById("write_mem_table");
            table.innerHTML = "";
            var row = table.insertRow(0);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            cell1.innerHTML = "NEW CELL1";
            cell2.innerHTML = "NEW CELL2";
            var table = document.getElementById("mytable");
        }
    </script>
    <script type="text/javascript" src="js/read-csv.js"></script>
    <title>Switching Boards</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">-->
    <link rel="stylesheet" href="midas.css">
</head>
<body class="mcss" onload="mhttpd_init('myPage');">

<!-- header and side navigation will be filled in mhttpd_start -->
<div id="mheader"></div>
<div id="msidenav"></div>

<div id="mmain">
    <table class="mtable" id="scStatusTable">

        <tr>
            <td colspan="6">

                <table class="mtable" id="settings" width="100%">
                    <tr>
                        <td colspan="6" class="mtableheader">General Frontend settings</td>
                    </tr>

                    <tr align="center">
                        <td id="systemActive" align="center" class="mgreencolor">
                            System active:
                        </td>
                        <td width="100px">
                            <input type="checkbox"
                                   name="modbcheckbox"
                                   data-odb-path="/Equipment/Switching/Settings/Active" />
                        </td>
                    </tr>

                    <tr align="center">
                        <td id="systemdelay" align="center" class="mgreencolor">Delay:</td>
                        <td name="modbvalue" data-odb-path="/Equipment/Switching/Settings/Delay" data-odb-editable="1"></td>
                    </tr>
                </table>
            </td>
        </tr>

        <tr>
            <td colspan="6">

                <table class="mtable" id="settings" width="100%">
                    <tr>
                        <td colspan="6" class="mtableheader">Read SC</td>
                    </tr>
                    <tr>
                        <th>
                            <button name="modbbutton" class="mbutton"
                                    data-odb-path="/Equipment/Switching/Settings/Read"
                                    data-odb-value="1">
                                Read
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <td>FPGA_ID</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/FPGA_ID_READ"></td>
                    </tr>
                    <tr>
                        <td>Start Add.</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/START_ADD_READ"></td>
                    </tr>
                    <tr>
                        <td>Length</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/LENGTH_READ"></td>
                    </tr>
                    <tr>
                        <td>PCIe MEM Start</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/PCIE_MEM_START_READ"></td>
                    </tr>
                </table>
            </td>
        </tr>


        <tr>
            <td colspan="6">

                <table class="mtable" id="settings" width="100%">
                    <tr>
                        <td colspan="6" class="mtableheader">Write SC</td>
                    </tr>
                    <tr>
                        <th>
                            <button name="modbbutton" class="mbutton"
                                    data-odb-path="/Equipment/Switching/Settings/Write"
                                    data-odb-value="1">
                                Write
                            </button>
                            <input type="file" id="csvFileInput" onchange="handleFiles(this.files)"
                                   accept=".csv">
                        </th>
                    </tr>
                    <tr>
                        <td>FPGA_ID</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/FPGA_ID_WRITE"></td>
                    </tr>
                    <tr>
                        <td>Start Add.</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/START_ADD_WRITE"></td>
                    </tr>
                    <tr>
                        <td>PCIe MEM Start</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/PCIE_MEM_START_WRITE"></td>
                    </tr>

                    <tr>
                        <th>
                            <button name="modbbutton" class="mbutton"
                                    data-odb-path="/Equipment/Switching/Settings/Single Write"
                                    data-odb-value="1">
                                Single Write
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <td>FPGA_ID</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/FPGA_ID_WRITE"></td>
                    </tr>
                    <tr>
                        <td>Start Add.</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/START_ADD_WRITE"></td>
                    </tr>
                    <tr>
                        <td>Data</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/SINGLE_DATA_WRITE"></td>
                    </tr>
                    <tr>
                        <td>PCIe MEM Start</td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/PCIE_MEM_START_WRITE"></td>
                    </tr>
                </table>
            </td>
        </tr>



        <tr>
            <td colspan="6">

                <table class="mtable" id="settings" width="100%">
                    <tr>
                        <td colspan="6" class="mtableheader">Read Memory PCIe</td>
                    </tr>

                    <tr>
                        <td></td>
                        <td>Start</td>
                        <td>Length</td>
                    </tr>

                    <tr>
                        <td>
                            <button name="modbbutton" class="mbutton"
                                    data-odb-path="/Equipment/Switching/Settings/Read RM"
                                    data-odb-value="1">
                                Read Memory
                            </button>
                        </td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/RM_START_ADD"></td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/RM_LENGTH"></td>
                    </tr>
                </table>

                <table id="read_mem_table" class="mtable">
                    <tr>
                        <td>Row1 cell1</td>
                        <td>Row1 cell2</td>
                    </tr>
                    <tr>
                        <td>Row2 cell1</td>
                        <td>Row2 cell2</td>
                    </tr>
                    <tr>
                        <td>Row3 cell1</td>
                        <td>Row3 cell2</td>
                    </tr>
                </table>
            </td>
        </tr>

        <tr>
            <td colspan="6">

                <table class="mtable" id="settings" width="100%">
                    <tr>
                        <td colspan="6" class="mtableheader">Write Memory PCIe</td>
                    </tr>

                    <tr>
                        <td></td>
                        <td>Start</td>
                        <td>Length</td>
                    </tr>

                    <tr>
                        <td>
                            <button name="modbbutton" class="mbutton"
                                    data-odb-path="/Equipment/Switching/Settings/Read WM"
                                    data-odb-value="1">
                                Write Memory
                            </button>
                        </td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/WM_START_ADD"></td>
                        <td name="modbvalue" data-odb-editable="1" data-format="x" data-odb-path="/Equipment/Switching/Variables/WM_LENGTH"></td>
                    </tr>
                </table>

                <table id="write_mem_table" class="mtable">
                    <tr>
                        <td>Row1 cell1</td>
                        <td>Row1 cell2</td>
                    </tr>
                    <tr>
                        <td>Row2 cell1</td>
                        <td>Row2 cell2</td>
                    </tr>
                    <tr>
                        <td>Row3 cell1</td>
                        <td>Row3 cell2</td>
                    </tr>
                </table>

            </td>
        </tr>

    </table>
</div>
</body>
</html>

